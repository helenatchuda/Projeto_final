<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestão de Finaças Pessoal</title>
    <link rel="stylesheet" href="./style.css">
    <script src="./script.js" defer></script>
    
   
</head>
<body>

    <div class="dashboard-container">
        <div id="sidebar" class="sidebar">
            <a href="#" class="close-btn" id="closeBtn">×</a>

            <div class="app-logo">
                <div class="title-group">
                    <i class="fas fa-chart-pie"></i>
                    <span>Gestão de Finaças</span>
                </div>
                <small>Gestão Financeira</small>
            </div>

            <div class="user-profile">
                <div class="user-avatar" id="userAvatar">JS</div>
                <span id="userName">João Silva</span>
                <small id="userEmail"></small>
            </div>

            <nav>
                <ul>
                    <li>
                        <a id="toggleUserMenu"><i class="fas fa-user-circle"></i> Utilizador <i class="fas fa-caret-down"></i></a>
                        <div class="submenu" id="userSubmenu">
                            <a id="loginLink">Login</a>
                            <a id="registerLink">Criar Conta</a>
                            </div>
                    </li>
                    <li class="active"><a id="dashboardLink"><i class="fas fa-th-large"></i> Dashboard</a></li>
                    <li><a id="despesasLink"><i class="fas fa-wallet"></i> Despesas</a></li>
                    <li><a id="receitasLink"><i class="fas fa-funnel-dollar"></i> Receitas</a></li>
                    <li><a id="categoryLink"><i class="fas fa-folder-open"></i> Categorias</a></li>
                    
                    
                </ul>
            </nav>
            <div style="padding: 20px; margin-top: auto; font-size: 0.8em; color: #aaa;">
                © 2025 FinanceApp
            </div>
        </div>

        <div id="main-content" class="main-content">
            <button id="openBtn" class="open-btn">☰ Menu</button>
            
            <section id="page-dashboard" class="page-content active-page">
                <header class="page-header">
                    <div>
                        <h1>Dashboard</h1>
                        <p>Visão geral das suas finanças</p>
                    </div>
                </header>

                <section class="summary-cards">
                    <div class="card dashboard-balance">
                        <i class="fas fa-balance-scale"></i>
                        <h4>Saldo Atual</h4>
                        <p id="dashboardSaldo">0.00 €</p>
                    </div>
                    <div class="card dashboard-income">
                        <i class="fas fa-arrow-up"></i>
                        <h4>Total Receitas (Mês)</h4>
                        <p id="dashboardReceitas">0.00 €</p>
                    </div>
                    <div class="card dashboard-expense">
                        <i class="fas fa-arrow-down"></i>
                        <h4>Total Despesas </h4>
                        <p id="dashboardDespesas">0.00 €</p>
                    </div>
                </section>
                
                <div class="dashboard-charts">
                    <div class="chart-placeholder">
                        Gráfico de Despesas por Categoria (Implementar com Chart.js/etc.)
                    </div>
                    <div class="chart-placeholder">
                        Gráfico de Balanço Mensal
                    </div>
                </div>

                <section class="data-table-container" style="margin-top: 30px;">
                    <h3>Últimas 5 Transações</h3>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Data</th>
                                <th>Tipo</th>
                                <th>Descrição</th>
                                <th>Valor</th>
                            </tr>
                        </thead>
                        <tbody id="lastTransactionsBody">
                            </tbody>
                    </table>
                </section>
            </section>

            <section id="page-despesas" class="page-content">
                <header class="page-header">
                    <div>
                        <h1>Gestão de Despesas</h1>
                        <p>Registe e visualize todas as suas despesas</p>
                    </div>
                    <button class="add-btn" id="addDespesaBtn">
                        <i class="fas fa-plus"></i> Nova Despesa
                    </button>
                </header>

                <section class="summary-cards">
                    <div class="card total">
                        <i class="fas fa-euro-sign"></i>
                        <h4>Total Despesas</h4>
                        <p id="totalDespesasMes">0.00 €</p>
                    </div>
                    <div class="card expense">
                       <i class="fas fa-list-alt"></i>
                       <h4>Nº de Transações</h4>
                         <p id="countDespesasMes">0</p>
                    </div>
                    <div class="card income">
                        <i class="fas fa-chart-line">€</i>
                        <h4>Maior Despesa</h4>
                        <p id="maiorDespesa">0.00 €</p>
                    </div>
                </section>

                <section class="data-table-container">
                    <h3>Lista Completa de Despesas</h3>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Data</th>
                                <th>Descrição</th>
                                <th>Categoria</th>
                                <th>Valor</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="despesasTableBody">
                            </tbody>
                    </table>
                </section>
            </section>

            <section id="page-receitas" class="page-content">
                <header class="page-header">
                    <div>
                        <h1>Gestão de Receitas</h1>
                        <p>Registe e visualize todas as suas receitas</p>
                    </div>
                    <button class="add-btn" id="addReceitaBtn">
                        <i class="fas fa-plus"></i> Nova Receita
                    </button>
                </header>
                
                <section class="summary-cards">
                    <div class="card total">
                        <i class="fas fa-euro-sign"></i>
                        <h4>Total Receitas</h4>
                        <p id="totalReceitasMes">0.00 €</p>
                    </div>
                    <div class="card income">
                        <i class="fas fa-list-alt"></i>
                        <h4>Nº de Transações</h4>
                        <p id="countReceitasMes">0</p>
                    </div>
                    <div class="card expense">
                        <i class="fas fa-chart-line"></i>
                        <h4>Maior Receita</h4>
                        <p id="maiorReceita">0.00 €</p>
                    </div>
                </section>

                <section class="data-table-container">
                    <h3>Lista Completa de Receitas</h3>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Data</th>
                                <th>Descrição</th>
                                <th>Categoria</th>
                                <th>Valor</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="receitasTableBody">
                            </tbody>
                    </table>
                </section>
            </section>

            <section id="page-categorias" class="page-content">
                <header class="page-header">
                    <div>
                        <h1>Categorias</h1>
                        <p>Gerencie suas categorias de receitas e despesas</p>
                    </div>
                    <button class="add-btn" id="addCategoryBtn">
                        <i class="fas fa-plus"></i> Nova Categoria
                    </button>
                </header>

                <section class="summary-cards">
                    <div class="card total">
                        <i class="fas fa-folder"></i>
                        <h4>Total de Categorias</h4>
                        <p id="totalCategoriesCount">0</p>
                    </div>
                    <div class="card expense">
                        <i class="fas fa-minus-circle"></i>
                        <h4>Categorias de Despesas</h4>
                        <p id="expenseCategoriesCount">0</p>
                    </div>
                    <div class="card income">
                        <i class="fas fa-plus-circle"></i>
                        <h4>Categorias de Receitas</h4>
                        <p id="incomeCategoriesCount">0</p>
                    </div>
                </section>

                <section class="category-lists-container">
                    <div class="category-list expense-list">
                        <h3>Categorias de Despesas</h3>
                        <ul id="expenseCategoriesList"></ul>
                    </div>
                    <div class="category-list income-list">
                        <h3>Categorias de Receitas</h3>
                        <ul id="incomeCategoriesList"></ul>
                    </div>
                </section>
            </section>

     

    <div id="loginpopup" class="popup-overlay">
        <h2 class="popup__title">Login</h2>
        <form class="popup__form form popup__form-edit-name" novalidate>
          <label for="name">
            <input
              type="text"
              id="name"
              class="form__input  form__input-userName"
              placeholder="Nome"
              required
              minlength="2"
              maxlength="40"
            />
            <span
              class="form__error"
              id="name-error"
              aria-live="polite"
            ></span>
          </label>
          <label for="password">
            <input
              type="text"
              id="description"
              class="form__input  form__input-about"
              placeholder="password  "
              required
              minlength="2"
              maxlength="200"
            />
            <span
              class="form__error"
              id="description-error"
              aria-live="polite"
            ></span>
          </label>
          <button
            type="submit"
            class="popup__save-button popup__save-button_disabled"
            disabled
          >
            Entrar
          </button>
          <div
            class="form__error-summary"
            role="alert"
            aria-live="polite"
          ></div>
        </form>
      </div>
    </div>
    </div>
    <div id="registerpopup" class="popup-overlay">
         <h2 class="popup__title">Criar Perfil</h2>
        <form class="popup__form form popup__form-edit-name" novalidate>
          <label for="name">
            <input
              type="text"
              id="name"
              class="form__input  form__input-userName"
              placeholder="Nome"
              required
              minlength="2"
              maxlength="40"
            />
            <span
              class="form__error"
              id="name-error"
              aria-live="polite"
            ></span>
          </label>
          <label for="userEmail">
            <input
              type="text"
              id="userEmail"
              class="form__input  form__input-about"
              placeholder="userEmail  "
              required
              minlength="2"
              maxlength="200"
            />
            <span
              class="form__error"
              id="email-error"
              aria-live="polite"
            ></span>
          </label>
          <label for="password">
            <input
              type="text"
              id="password"
              class="form__input  form__input-about"
              placeholder="password  "
              required
              minlength="2"
              maxlength="200"
            />
            <span
              class="form__error"
              id="password"
              aria-live="polite"
            ></span>
          </label>
          <label for="userEmail">
            <input
              type="text"
              id="confirmPassword"
              class="form__input  form__input-about"
              placeholder="confirmPassword  "
              required
              minlength="2"
              maxlength="200"
            />
            <span
              class="form__error"
              id="confirmPassword-error"
              aria-live="polite"
            ></span>
          </label>
          
          <button
            type="submit"
            class="popup__save-button popup__save-button_disabled"
            disabled
          >
            Criar
          </button>
          <div
            class="form__error-summary"
            role="alert"
            aria-live="polite"
          ></div>
        </form>
      </div>
    </div>
    </div>
    
    <div id="categoryModal" class="modal-overlay">
        <div class="modal">
            <header>
                <h2 id="categoryModalTitle">Nova Categoria</h2>
                <button class="closeModal" data-modal="categoryModal">&times;</button>
            </header>

            <form id="categoryForm">
                <label for="categoryName">Nome da Categoria:</label>
                <input type="text" id="categoryName" required>

                <label for="categoryType">Tipo:</label>
                <select id="categoryType" required>
                    <option value="expense">Despesa</option>
                    <option value="income">Receita</option>
                </select>
                
                <label for="categoryColor">Cor (Hex):</label>
                <input type="color" id="categoryColor" value="#6a1b9a">

                <button type="submit" id="saveCategoryBtn">Guardar Categoria</button>
                <input type="hidden" id="categoryId">
            </form>
        </div>
    </div>

    <div id="transactionModal" class="modal-overlay">
        <div class="modal">
            <header>
                <h2 id="transactionModalTitle">Nova Transação</h2>
                <button class="closeModal" data-modal="transactionModal">&times;</button>
            </header>
            <form id="transactionForm">
                <label for="transactionDate">Data:</label>
                <input type="date" id="transactionDate" required>

                <label for="transactionDescription">Descrição:</label>
                <input type="text" id="transactionDescription" required>

                <label for="transactionValue">Valor:</label>
                <input type="number" id="transactionValue" step="0.01" min="0.01" required>

                <label for="transactionCategory">Categoria:</label>
                <select id="transactionCategory" required>
                    </select>

                <button type="submit" id="saveTransactionBtn">Guardar Transação</button>
                <input type="hidden" id="transactionId">
                <input type="hidden" id="transactionTypeHidden"> </form>
        </div>
    </div>

    
</body>
</html>


